На разных патчах тестировались разные алгоритмы, не все патчи сохранены, некоторые удаленный, так как несут мало информации, а некоторые удалены потому что бесят. 

Что в основном тестировалось:

- разные способы полета

- Построение маршрутов

- Плавноть движения и поворотов

- ИИ на камере

- Алгоритмы избегания препятсвий A* 

- Алгоритмы ML избегания препятсвий и поиска свободного (чистого) пространства

- Я бпла (для уверенных тестов)

- Разные вариации детектов на разных камерах RGB, метрических и т.д.

- Интеграция ИИ в фронтальную камеру

- стриминг фронтальной камеры в интерфейс пользователя

- Создание пользовательского интерфейса (ручной)

- Создание пользовательского интерфейса на основе Telemetry

- Позиционирование на основе GPS

- Позиционирование на основе Lidar 

- Lidar - отрисовка дальности до объекта в определенной зоне

- Lidar отрисовка точек объектов на основе Ml и созданных облак точек лидаром

- Поведение дрона при обнаружения препятсвий будь то посадка или обход

 и многое другое

Многое не вошло в финальный код, а что-то ввиде шаблона, чтоб показать что она существует и его можно интегрировать.

Главная проблема отсутствие нормальной документации и гайдов от Индусов, а так же времени. Было бы больше времени, можно было бы попробовать сделать многое к примеру ИИ для фронтальной камеры, но как сделать адекватный стриминг для ИИ не понятно, существующие варианты либо клали … симулятор, либо отказывались адекватно подключатся к камере. Если к этому еще добавить то что будет вестись постоянная запись полета бпла с фронтальной камеры... 

Перспективы:

существует шаблон, который вошел в конечный код, ИИ которая работает на логируемых данных с камеры, а так же шаблон подключения к фронтальной камеры, если по умному допилить код, то получистся что модель бпла будет обучатся не только на данных с лидара и пространственно восприятии, а еще и на камере. Дело в том что ии от GRID, а именно DETR очень хорошо распознает объекты на разных дистанциях и емеет множество класификатором (птицы,, кусты, трава, камни и прочее) и в условиях бпла для транспорта это круто, можно ограничить дистанцию Подключить ИИ к камере и получистя что модель будет уверенней себя чуствовать, и понимать, какие объекты рядом, там пролетела птица, лидар (и такое бывает) не считал данные о птици, а камера это зафиксировала, итог столкновение, условно, не произошло. В рамках бпла "Такси" (условно) это круто и огромный плюс такого решения. Но огромное но, отсутсвует документация и опыт в таких сложных системах, поэтому реализовать такое пока не возможно для меня. Я просто не понимаю как заставить ИИ воспринимать камеру в реальном времени, так еще и связать ее с кодом движения и прочим. Пока научился просто логировать изображения с фронт камеры и впихнуть работу ИИ на получаеммые фото.

Автоматическое построение маршрута и перестройка его как в навигаторе. Сейчас бпла как бы перестраивает маршрут, но в конечном итоге хоть он и это делает, но ему нужно все равно возвращатся на траекторию изначального пути. Как бы может возникнуть вопрос, если БПЛА увидел препятсвие и потом ушел от него, он что вернется обратно? Он же не прошел маршрут? Нет в этом плане бпла, да если препятсвие есть в Killzone (определенный радиус вокруг бпла в метрах) то он будет избегать его и искать чистое пространство на основе датчиков Лидар, но найдя чистое пространство он не будет возвращатся в точку в которой он нашел препятсвие, он понимает, что тот маршрут уже пройден, и темболее там опасность, поэтому он направится к ближайшей траектории пути и продолжет дальше по маршруту. Данный алгоритм в плане реализации не совершенен и можно сделать логику "Навигатора" и самостоятельного прокладывания маршрута. Кстати о самостоятельном проколадывании маршрута, тут имеется ввиду что я дам ему точку Б и он сам туда полетит, как бы да, это реализовано, но предпологалось изначально, что человек даст любую точку. Но, нет времени, тяжело обучать, надо развивать логику, поэтому концепт есть, но пока он не такой какой я бы хотел его видеть, но он тоже успешный и приминим на практике, просто он не совершенен и ему есть куда расти.

GPS, о это отдельная тема, в коде данные с gps мы получаем идаем ему разные применения, будь то то пространтвенное позиционирование, будь то размешение препятсвия по координатам. Но дальше с gps мы никак не взаимодействуем. Так как опять же на тесты всего подряд нужно время которого у нас нет, и разработка сложных систем в данный момент выглядит как стрельба по воробьям с РПГ-7 врядли попадем когданибудь. Поэтому я нацелился на реализацию основ и концептов, и они... на удевление сделаны и работают хорошо, не супер, не плохо, а именно, что хорошо. Да с GPS можно сделать много разных особенностей то же орентирование в пространстве можно было накрутить на карту в GRID (да в гриде есть условная карта города, как к примеру на яндекс картах) и можно следить где бпла на карте в некоторох особенностсях это круто.

Куда внедрять решение?

куда угодно, его концепты получились очень разнообразными, изначально я даже и не думал, что получится вариант который меня не бесит, к примеру:

- Взять шаблоны данных с камеры, поменять движение, сделать другую траекторию, переделать скорость. И вот уже есть реализация бпла который мониторит и собирает данные с кпримеру жд, пролетел по жд собрал нужные данные там фото и т.д. ИИ это обработало, а дрон успешно пролетел маршрут. Или для МЧС дрон может пролететь лес и проверить есть ли пожары, но там надо будет поменять ИИ так как DETR, вроде не умеет классифицировать пожары и т.д. это вроде делает другая модель.

- Такси, пока приминим, но в его безопасности есть сомнения, нужны более надежные системы, можно применить, но вилик шанс, что дрон сломается, хоть в коде и есть ручное управление и в случаии сбое дрон не упадет камнем вниз а застынет на месте, можно подключится к нему и в ручнную направить и посадить, но основные алгоритмы пока не совершенны для масштабных внедрений в такси.

- Доставка, если поменять код и сделать его компакным, то можно закинут в маленький дрон и сделать не один маршрут а множество, к примеру от офиса к офису, дрон по логике в этом плане самый перспективный, так как его не жалко и в случаи чего разработчика не посадят.

Пока это все наброски, хоть и многое есть и есть перспективы, но еще разх отсутсвует время, документация, опыт, гайды от Индусов и т.д. был бы год - 2, то можно было бы сделать отличную систему и уже пытатся интегрировать ее в Медицинское БПЛА как планировалось, а пока это концепт, который может, но в реалях его тестировать можно, но я бы не хотел. 
